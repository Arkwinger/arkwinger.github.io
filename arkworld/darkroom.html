<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Dark Room</title>
  <style>
    body {
      margin: 0;
      height: 100vh;
      background-color: #000;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      font-family: 'Noto Sans KR', sans-serif;
      overflow: hidden;
      transition: background 2s ease, opacity 2s ease;
    }

    img {
      width: 220px;
      filter: drop-shadow(0 0 15px rgba(255,255,255,0.4));
      animation: float 6s ease-in-out infinite;
      z-index: 2;
    }

    #bubble {
      background: rgba(255, 255, 255, 0.08);
      border: 1px solid rgba(255, 255, 255, 0.2);
      color: #b8faff;
      padding: 12px 18px;
      border-radius: 15px;
      max-width: 380px;
      text-align: center;
      margin-top: 25px;
      font-size: 1rem;
      opacity: 0;
      transform: translateY(10px);
      transition: all 0.4s ease;
      box-shadow: 0 0 15px rgba(80,255,255,0.15);
    }

    #bubble.show {
      opacity: 1;
      transform: translateY(0);
    }

    input {
      margin-top: 25px;
      background: transparent;
      border: none;
      border-bottom: 1px solid #5ef3ff;
      color: #b8faff;
      font-size: 1rem;
      text-align: center;
      padding: 6px;
      outline: none;
      width: 240px;
      letter-spacing: 1px;
    }

    @keyframes float {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-8px); }
    }
  </style>
</head>
<body>
  <img src="shiro.png" alt="Shiro" id="shiro">
  <div id="bubble"></div>
  <input type="text" id="answer" placeholder="Enter your answer..." style="display:none;">

  <script>
    const shiro = document.getElementById("shiro");
    const bubble = document.getElementById("bubble");
    const input = document.getElementById("answer");

    let phase = 0;
    const preQuestions = [
      "You shouldn’t be here.",
      "How did you even get in?",
      "Fine... since you’re here.",
      "Answer me something first.",
      "What do you think Ark is doing right now?",
      "Hmph... doesn’t matter anyway.",
      "One more question."
    ];

    // typewriter effect
    function say(text, delay = 3000) {
      bubble.textContent = "";
      let i = 0;
      bubble.classList.add("show");
      const typer = setInterval(() => {
        bubble.textContent += text.charAt(i);
        i++;
        if (i >= text.length) {
          clearInterval(typer);
        }
      }, 30);
      setTimeout(() => bubble.classList.remove("show"), delay);
    }

    function askStreamer() {
      bubble.classList.add("show");
      bubble.textContent = "Then tell me... Ark’s favorite Korean streamer?";
      input.style.display = "block";
      input.focus();
    }

    // progression
    shiro.addEventListener("click", () => {
      if (phase < preQuestions.length) {
        say(preQuestions[phase]);
        phase++;
      } else if (phase === preQuestions.length) {
        askStreamer();
        phase++;
      }
    });

    input.addEventListener("keydown", (e) => {
      if (e.key === "Enter") {
        const val = input.value.trim().toLowerCase();
        if (val === "gyu_0227") {
          bubble.textContent = "Heh... you actually knew that.";
          input.style.display = "none";
          setTimeout(() => {
            bubble.textContent = "Come with me.";
          }, 1800);
          setTimeout(() => {
            document.body.style.opacity = "0";
            setTimeout(() => {
              window.location.href = "./stream.html";
            }, 2000);
          }, 3800);
        } else {
          bubble.textContent = "Wrong. Try again.";
          input.value = "";
        }
      }
    });
  </script>
</body>
</html>
